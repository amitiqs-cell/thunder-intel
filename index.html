async function search() {
  const phoneNumber = document.getElementById('phoneNumber').value.trim();
  const resultDiv = document.getElementById('result');

  if (!phoneNumber) {
    resultDiv.innerHTML = 'Please enter a mobile number.';
    return;
  }

  resultDiv.innerHTML = 'Searching...';

  try {
    const apiUrl = `https://idinfonumber-hde6.onrender.com/api/search?q=${encodeURIComponent(phoneNumber)}&key=pass3LIKA`;
    const response = await fetch(apiUrl);
    const data = await response.json();

    // Check if we actually got results and display them
    if (data.results && data.results.length > 0) {
      resultDiv.innerHTML = '<h3>Results:</h3>';
      data.results.forEach(item => {
        resultDiv.innerHTML += `
          <div>
            <p><strong>Name:</strong> ${item.name}</p>
            <p><strong>Father Name:</strong> ${item.father_name}</p>
            <p><strong>Mobile:</strong> ${item.mobile}</p>
            <p><strong>Aadhaar:</strong> ${item.aadhar}</p>
            <p><strong>Address:</strong> ${item.address}</p>
            <p><strong>Circle:</strong> ${item.circle}</p>
          </div>
          <hr>`;
      });
    } else {
      resultDiv.innerHTML = 'No data found for this number.';
    }
  } catch (error) {
    resultDiv.innerHTML = 'Error fetching data. Please try again.';
  }
}
